"use strict";(self.webpackChunkProyectoAngular=self.webpackChunkProyectoAngular||[]).push([[778],{9778:(se,u,r)=>{r.r(u),r.d(u,{ChatRoutingModule:()=>ie});var c=r(6868),v=r(5226),d=r.n(v),e=r(2223),h=r(9014),p=r(9758),m=r(1854),l=r(4755),g=r(5030),f=r(3608),C=r(1493),b=r(6328);const x=["scrollContainer"];function M(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",19)(5,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.deleteChat())}),e._uU(6,"Delete Chat"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.getRecipientUser())}}function w(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"span"),e._uU(2),e.qZA()(),e.TgZ(3,"div",22)(4,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openDialog())}),e._uU(5,"Add Members"),e.qZA(),e.TgZ(6,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.leaveGroup())}),e._uU(7,"Leave Group"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.chat.name)}}function O(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"i",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeStatusChats())}),e.qZA(),e.YNc(2,M,7,1,"div",15),e.YNc(3,w,8,1,"ng-template",null,16,e.W1O),e.qZA()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(2),e.Q6J("ngIf",!n.chat.group)("ngIfElse",t)}}function T(i,s){if(1&i&&(e.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"span"),e._uU(4,"You"),e.qZA()(),e.TgZ(5,"div")(6,"span"),e._uU(7),e.qZA()()()()),2&i){const t=e.oxw().$implicit;e.xp6(7),e.Oqu(t.message)}}function P(i,s){if(1&i&&(e.TgZ(0,"div",32)(1,"div",27)(2,"div",28)(3,"div",29)(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"div")(7,"span"),e._uU(8),e.qZA()()()()()),2&i){const t=e.oxw(2).$implicit;e.xp6(5),e.Oqu(t.sender),e.xp6(3),e.Oqu(t.message)}}function Z(i,s){if(1&i&&(e.TgZ(0,"div",33)(1,"div",34)(2,"span"),e._uU(3),e.qZA()()()),2&i){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(t.message)}}function k(i,s){if(1&i&&(e.YNc(0,P,9,2,"div",30),e.YNc(1,Z,4,1,"ng-template",null,31,e.W1O)),2&i){const t=e.MAs(2),n=e.oxw().$implicit;e.Q6J("ngIf",null!=n.sender)("ngIfElse",t)}}const I=function(i){return{sender_message:i}};function A(i,s){if(1&i&&(e.TgZ(0,"div",23)(1,"div",24),e.YNc(2,T,8,1,"div",25),e.qZA(),e.YNc(3,k,3,2,"ng-template",null,26,e.W1O),e.qZA()),2&i){const t=s.$implicit,n=e.MAs(4),o=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(3,I,t.sender===o.userLogued)),e.xp6(1),e.Q6J("ngIf",t.sender===o.userLogued)("ngIfElse",n)}}function N(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"i",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.addMember(o))}),e.qZA()}}function F(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"i",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.removeMember(o))}),e.qZA()}}function y(i,s){if(1&i&&(e.TgZ(0,"li")(1,"div",38)(2,"div",39),e._uU(3),e.qZA(),e.TgZ(4,"div",40),e.YNc(5,N,1,0,"i",41),e.YNc(6,F,1,0,"ng-template",null,42,e.W1O),e.qZA()()()),2&i){const t=s.$implicit,n=e.MAs(7),o=e.oxw(3);e.xp6(3),e.hij(" ",t," "),e.xp6(2),e.Q6J("ngIf",!o.addedMember(t))("ngIfElse",n)}}function J(i,s){if(1&i&&(e.TgZ(0,"ul",36),e.YNc(1,y,8,3,"li",37),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t._missingFollowers)}}function q(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,J,2,1,"ul",35),e.qZA()),2&i){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngIf",t._missingFollowers.length)("ngIfElse",n)}}function S(i,s){1&i&&(e.TgZ(0,"div")(1,"span"),e._uU(2,"Follow more users"),e.qZA()())}function U(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addMembers())}),e._uU(1,"Save"),e.qZA()}}const Y=function(){return{width:"25vw"}},Q=function(){return{"480px":"90vw"}};let E=(()=>{class i{constructor(t,n,o,a,_,oe){this.chatService=t,this.authService=n,this.activatedRoute=o,this.followService=a,this.router=_,this.ngZone=oe,this.messages=[],this.messageInput="",this.chatId="",this.visible=!1,this.followList=[],this.addedMembers=[],this._missingFollowers=[],this.actualPage=1,this.userLogued=n.user.sub}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.chatId=t.id,this.messages=[],this.getMessages(this.chatId),this.suscribeToPrivateMessages(),this.chatService.getChat(t.id).subscribe({next:n=>{this.chat=n,this.missingFollowers()},error:n=>{401===n.status?d().fire({title:"Wow looks like an error has occurred",text:"You don't have access to this chat"}).then(o=>{o.isConfirmed&&this.router.navigate(["chat"])}):404===n.status&&d().fire({title:"Wow looks like an error has occurred",text:n.error.message}).then(o=>{o.isConfirmed&&this.router.navigate(["chat"])})}})}),this.getFollowed()}ngAfterViewChecked(){this.ngZone.runOutsideAngular(()=>{this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight})}ngOnDestroy(){this._suscribeToPrivateMessages.unsubscribe(),this.chatService.changeToOpenChat()}suscribeToPrivateMessages(){this._suscribeToPrivateMessages&&this._suscribeToPrivateMessages.unsubscribe(),this._suscribeToPrivateMessages=this.chatService.subscribeToPrivateMessages(this.chatId).subscribe(t=>{const n=JSON.parse(t.body);this.messages.push(n)})}changeStatusChats(){this.chatService.changeToOpenChat(),this.router.navigate(["/chat"])}onScrolledUp(t){this.scrollContainer.nativeElement=t,++this.actualPage,this.getMessages(this.chatId)}openDialog(){this.visible=!this.visible,this.missingFollowers()}getFollowed(){this.followService.getFollowed().subscribe(t=>{this.followList=t})}missingFollowers(){if(this.chat.group){const t=new Set(this.chat.members),n=[];for(const o of this.followList)t.has(o.followed)||n.push(o.followed);this._missingFollowers=n}}addedMember(t){let n=!1;for(let o=0;o<this.addedMembers.length&&!n;o++)this.addedMembers[o].username===t&&(n=!0);return n}removeMember(t){this.addedMembers=this.addedMembers.filter(n=>n.username!=t)}getMessages(t){this.getMessagesSubscription=this.chatService.getMessages(t,this.actualPage).subscribe(n=>{this.messages.unshift(...n.content)})}sendMessage(){if(!this.messageInput.length)return;const t=this.authService.user.sub;let n;if(this.chat.group)n={sender:t,message:this.messageInput,chatId:this.chatId};else{const o=this.chat.members.filter(a=>a!=t)[0];n={sender:t,recipient:o,message:this.messageInput,chatId:this.chatId}}this.chatService.sendPrivateMessage(n),this.messageInput=""}sendMessageInfo(){this.chatService.sendPrivateMessage({message:`${this.authService.user.sub} leave the group`,chatId:this.chatId})}getRecipientUser(){return this.chat.members.filter(t=>t!=this.userLogued)[0]}addMember(t){this.addedMembers.push({username:t})}addMembers(){this.chatService.addMembers(this.chat.id,this.addedMembers).subscribe({next:()=>{this.visible=!1,this._missingFollowers=[],this.ngOnInit()}})}deleteChat(){d().fire({icon:"warning",text:`Do you want to leave group ${this.chat.name}?`,showConfirmButton:!0,showCancelButton:!0}).then(t=>{t.isConfirmed&&this.chatService.deleteChat(this.chatId).subscribe({next:()=>this.router.navigate(["/chat"])})})}leaveGroup(){d().fire({icon:"warning",text:"Do you want delete this chat?",showConfirmButton:!0,showCancelButton:!0}).then(t=>{t.isConfirmed&&this.chatService.leaveGroup(this.chatId).subscribe({next:()=>{this.sendMessageInfo(),this.router.navigate(["/chat"])}})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.a),e.Y36(p.e),e.Y36(c.gz),e.Y36(m.R),e.Y36(c.F0),e.Y36(e.R0b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-private-chat"]],viewQuery:function(t,n){if(1&t&&e.Gf(x,5),2&t){let o;e.iGM(o=e.CRH())&&(n.scrollContainer=o.first)}},decls:14,vars:13,consts:[[1,"contain"],["class","header_chat",4,"ngIf"],["infiniteScroll","",1,"messages_container",3,"infiniteScrollUpDistance","scrollWindow","scrolledUp"],["scrollContainer",""],["class","myrow",4,"ngFor","ngForOf"],[1,"send_message"],["type","text",3,"ngModel","ngModelChange","keyup.enter"],[1,"send_button",3,"click"],["pTooltip","Send Message",1,"fa-solid","fa-paper-plane"],["header","Followed",3,"visible","breakpoints","visibleChange"],[4,"ngIf"],["followUser",""],["class","saveButton",3,"click",4,"ngIf"],[1,"header_chat"],[1,"bi","bi-arrow-left",3,"click"],["class","header-private-chat",4,"ngIf","ngIfElse"],["groupName",""],[1,"header-private-chat"],[1,"recipientName"],[1,"delete-chat"],[3,"click"],[1,"groupName"],[1,"group_options"],[1,"myrow"],[3,"ngClass"],["class","message",4,"ngIf","ngIfElse"],["recipient",""],[1,"message"],[1,"message_contain"],[1,"sender_username"],["class","sended_message",4,"ngIf","ngIfElse"],["infoMessage",""],[1,"sended_message"],[1,"info-group-container"],[1,"info-group-message"],["class","followed_list",4,"ngIf","ngIfElse"],[1,"followed_list"],[4,"ngFor","ngForOf"],[1,"follow_user"],[1,"followed_username"],[1,"add_user"],["class","fa-solid fa-plus","pTooltip","Add this user",3,"click",4,"ngIf","ngIfElse"],["addedMemberIcon",""],["pTooltip","Add this user",1,"fa-solid","fa-plus",3,"click"],[1,"fa-solid","fa-check",3,"click"],[1,"saveButton",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,O,5,2,"div",1),e.TgZ(2,"div",2,3),e.NdJ("scrolledUp",function(a){return n.onScrolledUp(a)}),e.YNc(4,A,5,5,"div",4),e.qZA(),e.TgZ(5,"div",5)(6,"input",6),e.NdJ("ngModelChange",function(a){return n.messageInput=a})("keyup.enter",function(){return n.sendMessage()}),e.qZA(),e.TgZ(7,"button",7),e.NdJ("click",function(){return n.sendMessage()}),e._UZ(8,"i",8),e.qZA()()(),e.TgZ(9,"p-dialog",9),e.NdJ("visibleChange",function(a){return n.visible=a}),e.YNc(10,q,2,2,"div",10),e.YNc(11,S,3,0,"ng-template",null,11,e.W1O),e.YNc(13,U,2,0,"button",12),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.chat),e.xp6(1),e.Q6J("infiniteScrollUpDistance",2)("scrollWindow",!1),e.xp6(2),e.Q6J("ngForOf",n.messages),e.xp6(2),e.Q6J("ngModel",n.messageInput),e.xp6(3),e.Akn(e.DdM(11,Y)),e.Q6J("visible",n.visible)("breakpoints",e.DdM(12,Q)),e.xp6(1),e.Q6J("ngIf",n.chat),e.xp6(3),e.Q6J("ngIf",n._missingFollowers.length))},dependencies:[l.mk,l.sg,l.O5,g.Fj,g.JJ,g.On,f.u,C.V,b.Ry],styles:[".contain[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;box-sizing:border-box}.header_chat[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;z-index:2;background-color:#4473ff;padding:.7em;border-left:solid 1px white;gap:1em}.header-private-chat[_ngcontent-%COMP%]{display:flex;gap:1em;align-items:center}.header_chat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.bi-arrow-left[_ngcontent-%COMP%]{font-size:1.2em;color:#fff;display:none}.group_options[_ngcontent-%COMP%]{display:flex;gap:1em}.group_options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .header-private-chat[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:6px;background-color:#fff;color:#4473ff}.messages_container[_ngcontent-%COMP%]{display:flex;overflow-y:scroll;flex:1;flex-direction:column;gap:10px;padding:10px}.sender_message[_ngcontent-%COMP%]{display:flex;justify-content:right;padding-right:10px}.message[_ngcontent-%COMP%]{padding:10px;max-width:35.4325em;background-color:#4473ff;border-radius:6px;color:#fff;overflow:hidden}.sender_username[_ngcontent-%COMP%]{margin-bottom:.5em}.message_contain[_ngcontent-%COMP%]{width:100%;overflow:hidden;overflow-wrap:break-word}.sended_message[_ngcontent-%COMP%]{display:flex;padding-left:10px}.send_message[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;z-index:2;background-color:#4473ff;padding:.8em;border-left:solid 1px white}.send_message[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;padding:6px;border-radius:6px;border:none;outline:none}.send_button[_ngcontent-%COMP%]{margin-left:10px;background:none;border:none}.send_button[_ngcontent-%COMP%] > .fa-paper-plane[_ngcontent-%COMP%]{font-size:1.3em;color:#fff}.info-group-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.info-group-message[_ngcontent-%COMP%]{padding:.7em;color:#000;background-color:#a3a3a380;border-radius:4px}.messages_container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px!important}.messages_container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:none}.messages_container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#4473ff80}.messages_container[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background-color:#4473ff80}.messages_container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:initial}.follow_user[_ngcontent-%COMP%]{display:flex;gap:10px}.saveButton[_ngcontent-%COMP%]{background-color:#4473ff;color:#fff;border:none;border-radius:4px;padding:3px}@media only screen and (max-width: 480px){.bi-arrow-left[_ngcontent-%COMP%]{display:block}.message[_ngcontent-%COMP%]{max-width:100%}.header_chat[_ngcontent-%COMP%]{border-left:none!important}.send_message[_ngcontent-%COMP%]{border-left:none!important;position:sticky;bottom:0;width:100%}.sended_message[_ngcontent-%COMP%], .sender_message[_ngcontent-%COMP%]{padding:0}.header_chat[_ngcontent-%COMP%]{position:sticky;top:0;width:100%}}"]}),i})();const G=function(i,s){return{offline:i,online:s}};function R(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.changeToCloseChat())}),e.TgZ(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",27),e._UZ(5,"i",28),e.qZA()()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(3),e.Oqu(t),e.xp6(2),e.Q6J("ngClass",e.WLB(2,G,0==n.isUserOnline(t),1==n.isUserOnline(t)))}}function D(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,R,6,5,"div",24),e.qZA()),2&i){const t=s.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t!=n.username)}}function $(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,D,2,1,"div",23),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.members)}}function L(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.changeToCloseChat())}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name)}}const z=function(i){return["/chat",i]};function B(i,s){if(1&i&&(e.TgZ(0,"li",20),e.YNc(1,$,2,1,"div",21),e.YNc(2,L,3,1,"ng-template",null,22,e.W1O),e.qZA()),2&i){const t=s.$implicit,n=e.MAs(3);e.Q6J("routerLink",e.VKq(3,z,t.id)),e.xp6(1),e.Q6J("ngIf",!t.group)("ngIfElse",n)}}function H(i,s){1&i&&(e.TgZ(0,"div",30)(1,"h1"),e._uU(2,"Enter a chat and start talking"),e.qZA()())}function K(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"div",33)(2,"div",34),e._uU(3),e.qZA(),e.TgZ(4,"div",35)(5,"i",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.createChat(a))}),e.qZA()()()()}if(2&i){const t=s.$implicit;e.xp6(3),e.hij(" ",t," ")}}function W(i,s){if(1&i&&(e.TgZ(0,"ul",32),e.YNc(1,K,6,1,"li",23),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t._missingFollowers)}}function V(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,W,2,1,"ul",31),e.qZA()),2&i){const t=e.oxw(),n=e.MAs(23);e.xp6(1),e.Q6J("ngIf",t._missingFollowers.length)("ngIfElse",n)}}function j(i,s){1&i&&(e.TgZ(0,"div")(1,"span"),e._uU(2,"Follow more users"),e.qZA()())}const X=function(i){return{"available-chats-close":i}},ee=function(){return{width:"25vw"}},te=function(){return{"480px":"90vw"}},ne=[{path:"",component:(()=>{class i{constructor(t,n,o,a,_){this.chatService=t,this.followService=o,this.ngZone=a,this.changeDetectorRef=_,this.chats=[],this.usersOnline=[],this.visible=!1,this.followList=[],this.groupVisible=!1,this.groupName="",this.isRouterOutletActivated=!1,this.existChats=[],this._missingFollowers=[],this.closeChats=!1,this.username=n.user.sub}ngOnInit(){this.getFollowed(),this.statusSubscription=this.chatService.suscribeToCheckStatus().subscribe(t=>{const n=JSON.parse(t.body);this.usersOnline=n}),this.chatService.checkConnection(),this.getChats(),this.isCloseChats()}ngOnDestroy(){this.statusSubscription.unsubscribe()}changeToCloseChat(){this.chatService.changeToCloseChat()}isCloseChats(){this.chatService.isCloseChats.subscribe({next:t=>{this.closeChats=t}})}onRouterOutletActivate(){this.ngZone.run(()=>{this.isRouterOutletActivated=!0,this.changeDetectorRef.detectChanges()})}onRouterOutletDeactivate(){this.ngZone.run(()=>{this.isRouterOutletActivated=!1,this.changeDetectorRef.detectChanges(),this.ngOnInit()})}openDialog(){this.visible=!this.visible}openGroupDialog(){this.groupVisible=!this.groupVisible}getChats(){this.chatService.getChatsForUser().subscribe(t=>{this.chats=t,this.missingFollowers()})}missingFollowers(){const t=new Set,n=[];for(const o of this.chats)o.group||o.members.forEach(a=>t.add(a));for(const o of this.followList)t.has(o.followed)||n.push(o.followed);this._missingFollowers=n}isUserOnline(t){let n=!1;for(let o=0;o<this.usersOnline.length&&!n;o++)this.usersOnline[o].userId===t&&(n=!0);return n}getFollowed(){this.followService.getFollowed().subscribe(t=>{this.followList=t})}createChat(t){const n=[];n.push({username:this.username}),n.push({username:t}),this.chatService.createChat({members:n,group:!1}).subscribe(a=>{this.openDialog(),this.ngOnInit()})}createGroup(){const t=[];t.push({username:this.username}),this.chatService.createGroup({name:this.groupName,members:t,group:!0}).subscribe(o=>{this.openGroupDialog(),this.ngOnInit()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.a),e.Y36(p.e),e.Y36(m.R),e.Y36(e.R0b),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-chats"]],decls:29,vars:14,consts:[[1,"contain"],[1,"chats"],[1,"available_chats",3,"ngClass"],[1,"title"],[1,"icons"],[1,"add_chat"],["pTooltip","Create chat",1,"material-symbols-outlined",3,"click"],[1,"add_group"],["pTooltip","Create group",1,"material-symbols-outlined",3,"click"],["class","member_chat",3,"routerLink",4,"ngFor","ngForOf"],[1,"chat"],["class","messageInfo",4,"ngIf"],[3,"activate","deactivate"],["header","Followed",3,"visible","breakpoints","visibleChange"],[4,"ngIf"],["followUser",""],["header","Create Group",3,"visible","visibleChange"],[1,"groupName"],["type","text","placeholder","Group name",3,"ngModel","ngModelChange"],[1,"createGroupButton",3,"click"],[1,"member_chat",3,"routerLink"],[4,"ngIf","ngIfElse"],["groupChat",""],[4,"ngFor","ngForOf"],["class","member_info",4,"ngIf"],[1,"member_info"],[1,"member_username",3,"click"],[1,"status_user"],[1,"fa-solid","fa-circle",3,"ngClass"],[1,"groupName",3,"click"],[1,"messageInfo"],["class","followed_list",4,"ngIf","ngIfElse"],[1,"followed_list"],[1,"follow_user"],[1,"followed_username"],[1,"add_user"],["pTooltip","Add this user",1,"fa-solid","fa-plus",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),e._uU(5,"Chat"),e.qZA(),e._UZ(6,"hr"),e.qZA(),e.TgZ(7,"div",4)(8,"div",5)(9,"span",6),e.NdJ("click",function(){return n.openDialog()}),e._uU(10,"person_add"),e.qZA()(),e.TgZ(11,"div",7)(12,"span",8),e.NdJ("click",function(){return n.openGroupDialog()}),e._uU(13,"group_add"),e.qZA()()(),e.TgZ(14,"div")(15,"ul"),e.YNc(16,B,4,5,"li",9),e.qZA()()(),e.TgZ(17,"div",10),e.YNc(18,H,3,0,"div",11),e.TgZ(19,"router-outlet",12),e.NdJ("activate",function(){return n.onRouterOutletActivate()})("deactivate",function(){return n.onRouterOutletDeactivate()}),e.qZA()()()(),e.TgZ(20,"p-dialog",13),e.NdJ("visibleChange",function(a){return n.visible=a}),e.YNc(21,V,2,2,"div",14),e.YNc(22,j,3,0,"ng-template",null,15,e.W1O),e.qZA(),e.TgZ(24,"p-dialog",16),e.NdJ("visibleChange",function(a){return n.groupVisible=a}),e.TgZ(25,"div",17)(26,"input",18),e.NdJ("ngModelChange",function(a){return n.groupName=a}),e.qZA(),e.TgZ(27,"button",19),e.NdJ("click",function(){return n.createGroup()}),e._uU(28,"Create Group"),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngClass",e.VKq(10,X,n.closeChats)),e.xp6(14),e.Q6J("ngForOf",n.chats),e.xp6(2),e.Q6J("ngIf",!n.isRouterOutletActivated),e.xp6(2),e.Akn(e.DdM(12,ee)),e.Q6J("visible",n.visible)("breakpoints",e.DdM(13,te)),e.xp6(1),e.Q6J("ngIf",n.chats.length),e.xp6(3),e.Q6J("visible",n.groupVisible),e.xp6(2),e.Q6J("ngModel",n.groupName))},dependencies:[l.mk,l.sg,l.O5,g.Fj,g.JJ,g.On,c.lC,c.rH,f.u,C.V],styles:[".contain[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;border-left:solid 1px white;box-sizing:content-box}.chats[_ngcontent-%COMP%]{display:flex;height:100%}.title[_ngcontent-%COMP%]{text-align:center;color:#fff}.icons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin-bottom:1em}.icons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-size:1.625em;color:#fff}.available_chats[_ngcontent-%COMP%]{background-color:#4473ff;width:15%;padding:10px}ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.chat[_ngcontent-%COMP%]{flex:1;height:100%;max-height:100%;width:100%}.member_chat[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:center;align-items:center;border-top:solid 1px;border-bottom:solid 1px;border-color:#fff;border-radius:6px;margin:0 0 10px}.member_chat[_ngcontent-%COMP%]   .member_info[_ngcontent-%COMP%], .groupName[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.4em;padding:.6em}.member_username[_ngcontent-%COMP%], .groupName[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#fff;font-size:1.07em}.messageInfo[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.fa-circle[_ngcontent-%COMP%]{font-size:.8em}.offline[_ngcontent-%COMP%]{color:red}.online[_ngcontent-%COMP%]{color:#32cd32}.followed_list[_ngcontent-%COMP%]   .follow_user[_ngcontent-%COMP%]{display:flex;padding-bottom:1em;gap:10px}.fa-plus[_ngcontent-%COMP%]{cursor:pointer;font-size:1em}.createGroupButton[_ngcontent-%COMP%]{background-color:#4473ff;color:#fff;border:none;border-radius:4px;padding:3px}@media only screen and (max-width:480px){.available_chats[_ngcontent-%COMP%]{width:50%}.available-chats-close[_ngcontent-%COMP%]{display:none}.messageInfo[_ngcontent-%COMP%]{text-align:center;font-size:2em}}"]}),i})(),children:[{path:":id",component:E},{path:"notfound",component:(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"Not Found"),e.qZA())}}),i})()}]}];let ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.Bz.forChild(ne),c.Bz]}),i})()}}]);